# Real Estate News Publisher - Main Configuration
# 房产资讯自动化发布代理 - 主配置文件

# AI Configuration
ai:
  provider: "minimax"  # Options: zhipuai, openai, minimax
  model: "abab6.5s-chat"  # MiniMax 2.1 模型
  api_key: "${MINIMAX_API_KEY}"
  base_url: "${MINIMAX_BASE_URL}"  # https://api.minimax.chat/v1
  group_id: "${MINIMAX_GROUP_ID}"  # 可选
  temperature: 0.7
  max_tokens: 2000
  timeout: 60

# Collection Schedule
schedule:
  collection_frequency: "0 8,20 * * *"  # 8 AM and 8 PM daily
  publishing_time: "0 8,19 * * 1-5"    # 8 AM and 7 PM on weekdays
  timezone: "Asia/Shanghai"

# Content Settings
content:
  articles_per_run: 3
  min_relevance_score: 0.6
  article_length:
    min: 800
    max: 1500
  days_to_lookback: 7
  auto_publish: false  # Set to true for automatic publishing
  create_as_draft: true

# Priority Scoring
priority:
  policy: 10
  market: 7
  regional: 5
  product: 3

# Source Credibility
source_credibility:
  government: 10
  news: 7
  industry: 5
  social: 3

# WeChat Configuration
wechat:
  app_id: "${WECHAT_APPID}"
  app_secret: "${WECHAT_SECRET}"
  account_id: "${WECHAT_ACCOUNT_ID}"
  auto_publish: false
  create_as_draft: true

# Multi-Platform Settings
platforms:
  wechat_channel:
    enabled: false
    text_to_speech: true
  xiaohongshu:
    enabled: false
  douyin:
    enabled: false
    generate_video_script: true

# Database
database:
  type: "sqlite"
  path: "./data/realestate_publisher.db"
  pool_size: 5
  max_overflow: 10

# Logging
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "./logs/publisher.log"
  rotation: "10 MB"
  retention: "30 days"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# HTTP Client Settings
http:
  timeout: 30
  max_retries: 3
  retry_delay: 5
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
  rate_limit_delay: 2

# Projects for Integration
projects:
  - name: "余姚牟山玫瑰园"
    location: "余姚牟山"
    type: "度假别墅"
    keywords: ["余姚", "牟山", "别墅", "度假"]

  - name: "九龙湖利时玖珑湾"
    location: "镇海九龙湖"
    type: "湖景别墅"
    keywords: ["镇海", "九龙湖", "湖景", "别墅"]

  - name: "溪口度假项目"
    location: "奉化溪口"
    type: "文旅地产"
    keywords: ["奉化", "溪口", "文旅", "度假"]

# Optimization Settings
optimization:
  enabled: true
  min_articles_for_analysis: 10
  auto_adjust_schedule: true
  track_conversions: true

# Notification Settings
notifications:
  enabled: true
  on_error: true
  on_publish: true
  channels:
    - type: "webhook"
      url: "${WEBHOOK_URL}"
